---
import Header from "../components/Header.astro";
import CertificateGroup from "../components/CertificateGroup.astro";
import Certificate from "../components/Certificate.astro";
import Sidebar from "../components/Sidebar.astro";
import certificatesData from "../data/certificates.json";

const { courseCertificates, competitionCertificates } = certificatesData;
---

<!doctype html>
<html>
    <Header title="Certificates | Sam Bernstein" />
    <body>
        <div class="content">
            <Sidebar selectedItem="certificates" />
            <nav class="main" transition:animate="slide">
                <div class="container">
                    <div class="back-nav-container">
                        <a href="/" class="back-nav-button w-inline-block">
                            <img
                                src="/assets/back.svg"
                                loading="lazy"
                                alt=""
                                class="back-nav-img"
                            />
                            <div>Back</div>
                        </a>
                    </div>
                    <div class="content-container">
                        <h1>Certificates</h1>

                        <!-- Course Certificates Section -->
                        <section class="items-container">
                            <h2 class="section-title">Courses</h2>
                            <div class="certificate-groups">
                                {
                                    Object.entries(courseCertificates).map(
                                        ([provider, data]) => (
                                            <CertificateGroup
                                                provider={provider}
                                                certificates={data.certificates}
                                                icon={data.icon}
                                            />
                                        ),
                                    )
                                }
                            </div>
                        </section>

                        <!-- Competition Certificates Section -->
                        <section class="items-container">
                            <h2 class="section-title">Competitions</h2>
                            <div class="competition-resouce-items">
                                {
                                    competitionCertificates.map((cert) => (
                                        <Certificate
                                            title={cert.title}
                                            issuer={cert.issuer}
                                            date={cert.date}
                                            placement={cert.placement}
                                            pdfUrl={cert.pdfUrl}
                                            courseUrl={cert.courseUrl}
                                        />
                                    ))
                                }
                            </div>
                        </section>
                    </div>
                </div>
            </nav>
        </div>

        <!--[if lte IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->
    </body>
</html>

<style>
    .section-title {
        margin-top: 2rem;
        margin-bottom: 1rem;
        font-size: 1.5rem;
        font-weight: 600;
        color: #ffffff;
        opacity: 0.95;
    }

    .items-container:first-of-type .section-title {
        margin-top: 0;
    }

    .certificate-groups {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }
</style>

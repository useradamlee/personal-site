---
import TimelineLayout from "../layouts/TimelineLayout.astro";

export async function getStaticPaths() {
    const blogPosts = await Astro.glob("../data/blog/*.md");
    
    return blogPosts.map((post) => {
        const slug = post.file.split("/").pop().replace(".md", "");
        return {
            params: { slug },
            props: { post },
        };
    });
}

const { post } = Astro.props;
const { Content, frontmatter } = post;
---

<TimelineLayout frontmatter={frontmatter}>
    <Content />
</TimelineLayout>
